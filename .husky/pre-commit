#!/usr/bin/env sh
. "$(dirname -- "$0")/_/husky.sh"

echo "Running Biome checks..."

# Navigate to the frontend directory
cd frontend || exit 1

# Run Biome check, apply safe fixes, allow warnings, exit if errors
pnpm exec biome check --apply --no-errors-on-warnings .
EXIT_CODE=$?

# Navigate back to the root (optional, good practice)
cd ..

if [ $EXIT_CODE -ne 0 ]; then
  echo "Biome checks failed. Commit aborted."
  exit 1
fi

echo "Biome checks passed."
exit 0 