#!/usr/bin/env sh

echo "Running Biome checks..."

# Navigate to the frontend directory
cd frontend || exit 1 # Exit if cd fails

# Run Biome check and store its exit code
pnpm exec biome check ./frontend/src
EXIT_CODE=$? # Capture Biome's exit code immediately

# Navigate back to the root
cd ..

# Check Biome's exit code
if [ $EXIT_CODE -ne 0 ]; then
  echo "Biome checks failed (Exit code: $EXIT_CODE). Commit aborted."
  exit 1 # Exit with Biome's non-zero exit code
fi

echo "Biome checks passed."
exit 0 